(function(){"use strict";var t={6453:function(t,a,r){var e=r(9242),i=r(3396),s=r(7139);const n={class:"contents"},o=(0,i._)("h1",{class:"app-title"},"Weather Forecast App",-1),l={key:0,class:"form-contents"},c={key:1},d=(0,i._)("p",{class:"invalid"},"Invalid Input: Please type in a valid city name",-1),p={class:"city-time"},u={class:"city-info"},h={class:"time-info"},y={class:"current_weather"},m=(0,i._)("h3",{class:"weather-title"},"Current Weather",-1),f={class:"info"},g={class:"weather-desc"},w={class:"temperature-info"},_=(0,i._)("h3",{class:"forecast-title"},"Weather Forecast",-1),A=[_],b={class:"forecast"};function v(t,a,r,_,v,k){const D=(0,i.up)("Chart1"),O=(0,i.up)("Chart2"),C=(0,i.up)("Chart3"),x=(0,i.up)("Chart4");return(0,i.wg)(),(0,i.iD)("div",n,[o,v.errorOccurred?((0,i.wg)(),(0,i.iD)("div",c,[d,(0,i._)("button",{class:"try-again-button",onClick:a[2]||(a[2]=t=>v.errorOccurred=!1)},"Try Again")])):((0,i.wg)(),(0,i.iD)("div",l,[(0,i.wy)((0,i._)("input",{class:"input-box",type:"text",placeholder:"type in a city name","onUpdate:modelValue":a[0]||(a[0]=t=>v.keyword=t)},null,512),[[e.nr,v.keyword]]),(0,i._)("input",{class:"go-button",type:"submit",value:"Go",onClick:a[1]||(a[1]=(0,e.iM)(((...t)=>k.getForecast&&k.getForecast(...t)),["prevent"]))})])),(0,i._)("span",{class:(0,s.C_)({data:!v.display})},[(0,i._)("h1",null,(0,s.zw)(v.localTime),1),(0,i._)("div",p,[(0,i._)("h2",u,(0,s.zw)(v.city)+"("+(0,s.zw)(v.country)+")",1),(0,i._)("h3",h,"Current Local Time: "+(0,s.zw)(v.currentTime),1)]),(0,i._)("div",y,[m,(0,i._)("div",f,[(0,i._)("h3",g,(0,s.zw)(v.current_weather_desc),1),(0,i._)("h4",w,"Temperature: "+(0,s.zw)(v.current_temp)+"°C, Wind Speed: "+(0,s.zw)(v.current_wind)+" meter/sec"+(0,s.zw)(v.current_rain),1)])])],2),(0,i._)("span",{class:(0,s.C_)({data:!v.display})},A,2),(0,i._)("div",b,[(0,i.Wm)(D,{temperatureArray:v.temperatureArray,timeArray:v.timeArray,display:v.display},null,8,["temperatureArray","timeArray","display"]),(0,i.Wm)(O,{windArray:v.windArray,timeArray:v.timeArray,display:v.display},null,8,["windArray","timeArray","display"]),(0,i.Wm)(C,{rainArray:v.rainArray,rainFlagWithDate:v.rainFlagWithDate,timeArray:v.timeArray,display:v.display},null,8,["rainArray","rainFlagWithDate","timeArray","display"]),(0,i.Wm)(x,{pm2_5Array:v.pm2_5Array,timeArrayForAirPollution:v.timeArrayForAirPollution,display:v.display},null,8,["pm2_5Array","timeArrayForAirPollution","display"])])])}const k={class:"temp"},D={class:"chartBox"},O={class:"colSmall"},C={class:"colLarge"},x={class:"box"};function F(t,a,r,e,n,o){const l=(0,i.up)("Line");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("p",k,(0,s.zw)(n.title),1),(0,i._)("div",D,[(0,i._)("div",O,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions2,data:o.chartData2},null,8,["options","data"])):(0,i.kq)("",!0)]),(0,i._)("div",C,[(0,i._)("div",x,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions1,data:o.chartData1},null,8,["options","data"])):(0,i.kq)("",!0)])])])],64)}var T=r(5866),z=(r(6170),{name:"Chart1",props:["temperatureArray","timeArray","display"],components:{Line:T.x1},data(){return{title:""}},computed:{chartData1(){return{labels:[this.timeArray],backgroundColor:"#f87979",datasets:[{data:this.temperatureArray}]}},chartOptions1(){return{maintainAspectRatio:!1,layout:{padding:{top:9,bottom:15}},responsive:!0,scales:{y:{ticks:{display:!1},grid:{drawTicks:!1,drawBorder:!1}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){const a=parseInt(t.parsed.y);return a<13?t.parsed.y+"°C Cold":a>=13&&a<=23?t.parsed.y+"°C Mild":t.parsed.y+"°C Hot"}}}}}},chartData2(){return{labels:[this.timeArray],backgroundColor:"#f87979",datasets:[{data:this.temperatureArray,borderWidth:0}]}},chartOptions2(){return{maintainAspectRatio:!1,layout:{padding:{bottom:44}},responsive:!0,scales:{x:{ticks:{display:!1},grid:{drawTicks:!1}},y:{afterFit:t=>{t.width=35}}},plugins:{legend:{display:!1}},elements:{point:{radius:0}}}}},watch:{temperatureArray:function(t){this.chartData1.datasets[0].data=t,this.chartData2.datasets[0].data=t,this.title="Temperature(°C)"},timeArray:function(t){this.chartData1.labels=t,this.chartData2.labels=t}}}),W=r(89);const L=(0,W.Z)(z,[["render",F],["__scopeId","data-v-23d0fbb4"]]);var j=L;const P={class:"wind"},I={class:"chartBox"},R={class:"colSmall"},S={class:"colLarge"},q={class:"box"};function B(t,a,r,e,n,o){const l=(0,i.up)("Line");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("p",P,(0,s.zw)(n.title),1),(0,i._)("div",I,[(0,i._)("div",R,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions2,data:o.chartData2},null,8,["options","data"])):(0,i.kq)("",!0)]),(0,i._)("div",S,[(0,i._)("div",q,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions1,data:o.chartData1},null,8,["options","data"])):(0,i.kq)("",!0)])])])],64)}var Y={name:"Chart2",props:["windArray","timeArray","display"],components:{Line:T.x1},data(){return{title:""}},computed:{chartData1(){return{labels:[this.timeArray],backgroundColor:"#f87979",datasets:[{data:this.windArray}]}},chartOptions1(){return{maintainAspectRatio:!1,layout:{padding:{top:9,bottom:15}},responsive:!0,scales:{y:{ticks:{display:!1},grid:{drawTicks:!1,drawBorder:!1}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return t.parsed.y+"m/s"}}}}}},chartData2(){return{labels:[this.timeArray],backgroundColor:"#f87979",datasets:[{data:this.windArray,borderWidth:0}]}},chartOptions2(){return{maintainAspectRatio:!1,layout:{padding:{bottom:44}},responsive:!0,scales:{x:{ticks:{display:!1},grid:{drawTicks:!1}},y:{afterFit:t=>{t.width=35}}},plugins:{legend:{display:!1}},elements:{point:{radius:0}}}}},watch:{windArray:function(t){this.chartData1.datasets[0].data=t,this.chartData2.datasets[0].data=t,this.title="Wind Speed(meter/sec)"},timeArray:function(t){this.chartData1.labels=t,this.chartData2.labels=t}}};const Z=(0,W.Z)(Y,[["render",B],["__scopeId","data-v-9f14c1d2"]]);var H=Z;const M={class:"rain"},E={class:"chartBox"},V={class:"colSmall"},U={class:"colLarge"},G={class:"box"},J={class:"text"};function K(t,a,r,e,n,o){const l=(0,i.up)("Line");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("p",M,(0,s.zw)(n.title),1),(0,i._)("div",E,[(0,i._)("div",V,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions2,data:o.chartData2},null,8,["options","data"])):(0,i.kq)("",!0)]),(0,i._)("div",U,[(0,i._)("div",G,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions1,data:o.chartData1},null,8,["options","data"])):(0,i.kq)("",!0)])])]),(0,i._)("p",J,(0,s.zw)(n.rain),1)],64)}var N={name:"Chart3",props:["rainArray","rainFlagWithDate","timeArray","display"],components:{Line:T.x1},data(){return{rain:"",title:""}},computed:{chartData1(){return{labels:[this.timeArray],backgroundColor:"#f87979",datasets:[{data:this.rainArray}]}},chartOptions1(){return{maintainAspectRatio:!1,layout:{padding:{top:9,bottom:15}},responsive:!0,scales:{y:{ticks:{display:!1},grid:{drawTicks:!1,drawBorder:!1}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return t.parsed.y+"mm"}}}}}},chartData2(){return{labels:[this.timeArray],backgroundColor:"#f87979",datasets:[{data:this.rainArray,borderWidth:0}]}},chartOptions2(){return{maintainAspectRatio:!1,layout:{padding:{bottom:44}},responsive:!0,scales:{x:{ticks:{display:!1},grid:{drawTicks:!1}},y:{afterFit:t=>{t.width=35}}},plugins:{legend:{display:!1}},elements:{point:{radius:0}}}}},watch:{rainArray:function(t){this.chartData1.datasets[0].data=t,this.chartData2.datasets[0].data=t,this.title="Rain Volume(mm/3h)"},timeArray:function(t){this.chartData1.labels=t,this.chartData2.labels=t},rainFlagWithDate:function(t){const a=t;let r="You should pack an umbrella on ",e=!1;for(let i in a)a[i]&&(r=r.concat(i+", "),e=!0);e?(r=r.slice(0,-2),this.rain=r):r="You don't need to pack an umbrella in the next 5 days"}}};const Q=(0,W.Z)(N,[["render",K],["__scopeId","data-v-ca4f9e92"]]);var X=Q;const $={class:"pm2_5"},tt={class:"chartBox"},at={class:"colSmall"},rt={class:"colLarge"},et={class:"box"},it={class:"text"};function st(t,a,r,e,n,o){const l=(0,i.up)("Line");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("p",$,(0,s.zw)(n.title),1),(0,i._)("div",tt,[(0,i._)("div",at,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions2,data:o.chartData2},null,8,["options","data"])):(0,i.kq)("",!0)]),(0,i._)("div",rt,[(0,i._)("div",et,[r.display?((0,i.wg)(),(0,i.j4)(l,{key:0,id:"my-chart-id",options:o.chartOptions1,data:o.chartData1},null,8,["options","data"])):(0,i.kq)("",!0)])])]),(0,i._)("p",it,(0,s.zw)(n.text),1)],64)}var nt={name:"Chart4",props:["pm2_5Array","timeArrayForAirPollution","display"],components:{Line:T.x1},data(){return{text:"",title:""}},computed:{chartData1(){return{labels:[this.timeArrayForAirPollution],backgroundColor:"#f87979",datasets:[{data:this.pm2_5Array}]}},chartOptions1(){return{maintainAspectRatio:!1,layout:{padding:{top:9,bottom:15}},responsive:!0,scales:{y:{ticks:{display:!1},grid:{drawTicks:!1,drawBorder:!1}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return t.parsed.y+"μg/m3"}}}}}},chartData2(){return{labels:[this.timeArrayForAirPollution],backgroundColor:"#f87979",datasets:[{data:this.pm2_5Array,borderWidth:0}]}},chartOptions2(){return{maintainAspectRatio:!1,layout:{padding:{bottom:62}},responsive:!0,scales:{x:{ticks:{display:!1},grid:{drawTicks:!1}},y:{afterFit:t=>{t.width=35}}},plugins:{legend:{display:!1}},elements:{point:{radius:0}}}}},watch:{pm2_5Array:function(t){this.chartData1.datasets[0].data=t,this.chartData2.datasets[0].data=t,this.title="PM2.5 Concentration(μg/m3)",this.text="If the volume of PM2.5 exceeds 10μg/m3, it's better to wear a face mask."},timeArrayForAirPollution:function(t){this.chartData1.labels=t,this.chartData2.labels=t}}};const ot=(0,W.Z)(nt,[["render",st],["__scopeId","data-v-3bf995e2"]]);var lt=ot,ct=r(4161),dt={name:"App",data(){return{keyword:"",display:!1,country:"",city:"",currentTime:"",timeArray:[],temperatureArray:[],windArray:[],rainArray:[],rainFlagWithDate:{},pm2_5Array:[],timeArrayForAirPollution:[],current_weather_desc:"",current_temp:"",current_wind:"",current_rain:"",localTime:"",timezoneOffset:null,errorOccurred:!1}},methods:{getForecast:function(){this.errorOccurred=!1,""!==this.keyword&&ct.Z.post("http://localhost:3000/sendData",{keyword:this.keyword}).then((t=>{console.log(t.data),this.forecast(t.data)})).catch((t=>{console.error(t),this.errorOccurred=!0}))},forecast:function(t){this.display=!0;const a=t.city_country[0],r=t.city_country[1];this.city=a,this.country=r,this.timezoneOffset=t.forecast.city.timezone,setInterval(this.updateLocalTime,1e3);let e=t.current_weather.weather[0].description;if(this.current_weather_desc=e.slice(0,1).toUpperCase()+e.slice(1),this.current_temp=t.current_weather.main.temp,this.current_wind=t.current_weather.wind.speed,"rain"in t.current_weather){const a=t.current_weather.rain["1h"];this.current_rain=", Rain Volume: "+a+"mm/h"}let i=[],s=[],n=[],o=[],l={},c=[];for(let u=0;u<t.forecast.list.length;u++){const a=t.forecast.list[u].dt,r=1e3*this.timezoneOffset,e=new Date;let d=6e4*e.getTimezoneOffset();const p=1e3*a+r+d,h=new Date(p);let y=h.toLocaleString("en-IE",{hour12:!0,month:"short",day:"2-digit",hour:"2-digit"});y=y.replaceAll(".",""),c[u]=y;const m=y.indexOf(" at");-1!=m&&(y=y.replace(" at",","));let f=y.substring(8);if("00 am"===f||"01 am"===f||"02 am"===f||"12 am"===f)f=y.substring(0,6);else{"00 pm"===f&&(f="12 pm"),f=f.replace(" ","");let t=f.search("0");0===t&&(f=f.replace("0",""))}o[u]=f;let g=y.substring(0,6);l[g]=!1;const w=t.forecast.list[u].main.temp;i[u]=w;const _=t.forecast.list[u].wind.speed;if(s[u]=_,"rain"in t.forecast.list[u]){const a=t.forecast.list[u].rain["3h"];n[u]=a}else{const t=0;n[u]=t}}this.temperatureArray=i,this.windArray=s,this.rainArray=n,this.timeArray=o;for(let u=0;u<n.length;u++){const t=n[u];if(t>0){let t=c[u],a=t.substring(0,6);l[a]=!0}}this.rainFlagWithDate=l;let d=[],p=[];for(let u=0;u<t.air_pollution.list.length;u++){const a=t.air_pollution.list[u].dt,r=1e3*this.timezoneOffset,e=new Date;let i=6e4*e.getTimezoneOffset();const s=1e3*a+r+i,n=new Date(s);let o=n.toLocaleString("en-IE",{hour12:!0,month:"short",day:"2-digit",hour:"2-digit"});o=o.replaceAll(".","");const l=o.indexOf(" at");-1!=l&&(o=o.replace(" at",","));let c=o.substring(8);if("00 am"===c||"12 am"===c||"01 am"===c)c=o.substring(0,6);else{"00 pm"===c&&(c="12 pm"),c=c.replace(" ","");let t=c.search("0");0===t&&(c=c.replace("0",""))}d[u]=c;const h=t.air_pollution.list[u].components.pm2_5;p[u]=h}this.pm2_5Array=p,this.timeArrayForAirPollution=d},updateLocalTime:function(){if(null!=this.timezoneOffset){const t=new Date,a=new Date(t.getTime()+6e4*t.getTimezoneOffset()),r=1e3*this.timezoneOffset,e=a.getTime()+r;let i=new Date(e);i=i.toLocaleString("en-IE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.currentTime=i}}},components:{Chart1:j,Chart2:H,Chart3:X,Chart4:lt}};const pt=(0,W.Z)(dt,[["render",v]]);var ut=pt;(0,e.ri)(ut).mount("#app")}},a={};function r(e){var i=a[e];if(void 0!==i)return i.exports;var s=a[e]={exports:{}};return t[e].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(a,e,i,s){if(!e){var n=1/0;for(d=0;d<t.length;d++){e=t[d][0],i=t[d][1],s=t[d][2];for(var o=!0,l=0;l<e.length;l++)(!1&s||n>=s)&&Object.keys(r.O).every((function(t){return r.O[t](e[l])}))?e.splice(l--,1):(o=!1,s<n&&(n=s));if(o){t.splice(d--,1);var c=i();void 0!==c&&(a=c)}}return a}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[e,i,s]}}(),function(){r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,{a:a}),a}}(),function(){r.d=function(t,a){for(var e in a)r.o(a,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:a[e]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){var t={143:0};r.O.j=function(a){return 0===t[a]};var a=function(a,e){var i,s,n=e[0],o=e[1],l=e[2],c=0;if(n.some((function(a){return 0!==t[a]}))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)var d=l(r)}for(a&&a(e);c<n.length;c++)s=n[c],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(d)},e=self["webpackChunkvue_express_sample"]=self["webpackChunkvue_express_sample"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=r.O(void 0,[998],(function(){return r(6453)}));e=r.O(e)})();
//# sourceMappingURL=app.aa0f8635.js.map